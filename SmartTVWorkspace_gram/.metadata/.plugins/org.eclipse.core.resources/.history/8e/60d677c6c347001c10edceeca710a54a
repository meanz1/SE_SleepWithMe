<!--
Copyright (c) 2020 LG Electronics Inc.
SPDX-License-Identifier: Apache-2.0
-->

<!DOCTYPE html>
<html>
<head>
<title>Example Web App</title>
<style type="text/css">
    body {
        background-color:#202020;
        vertical-align: middle;
        height: 100%;
        width: 100%;
    }
    .top {
        margin-top: 200px;
    }
    .mid {
        text-align: center;
    }
    h1 {
        vertical-align: middle;
        text-align:center;
        color:#FFFFFF;
    }
</style>
<script type="text/javascript">
    var bridge = new WebOSServiceBridge();
    var cnt = 1;
    var count = 0
    var url = 'luna://com.webos.notification/createToast';
    var params = {
            "message":"hello world"+cnt
        };
    var elseparams = {
    		"message":"not hello"
    };
    function toastCallback(msg) {
        console.log("before-parse-response");
        var response = JSON.parse(msg);
        console.log(response);
        cnt++;
        
    }
    createToast = setInterval(function(){
		if (cnt%2==1){	
    		bridge.onservicecallback = toastCallback;
            console.log("before-bridge.call");
            bridge.call(url, JSON.stringify(params));
            console.log("after-bridge.call");
    	}
    	else {
    		bridge.onservicecallback = toastCallback;
    		bridge.call(url, JSON.stringify(elseparams));
    	}
    }, 1000)

    
</script>
</head>
<body>
    <div class="top">
        <h1 id="txt_msg">Hello, Web Application!!</h1>
    </div>
    <div class="mid">
        <button onclick="createToast()">create toast</button>
        
    </div>
</body>
</html>